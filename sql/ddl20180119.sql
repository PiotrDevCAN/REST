DROP TABLE "ROB_DEV"."INFLIGHT_BASELINE";

CREATE TABLE "ROB_DEV"."INFLIGHT_BASELINE" (
		"CIO" CHAR(46) DEFAULT NULL,
		"PRN" CHAR(11) DEFAULT NULL,
		"PROJECTNAME" CHAR(80) DEFAULT NULL,
		"PROJECTNUMBER" CHAR(11) DEFAULT NULL,
		"CURRENTPLATFORM" CHAR(66) DEFAULT NULL,
		"RESOURCETYPE" CHAR(19) DEFAULT NULL,
		"RESOURCENAME" CHAR(120) DEFAULT NULL,
		"SEP_IBM" DECIMAL(8 , 3) DEFAULT NULL,
		"OCT_IBM" DECIMAL(8 , 3) DEFAULT NULL,
		"NOV_IBM" DECIMAL(8 , 3) DEFAULT NULL,
		"DEC_IBM" DECIMAL(8 , 3) DEFAULT NULL,
		"SEP_TO_DEC_TOTAL_FORECAST" DECIMAL(12 , 3) DEFAULT NULL,
		"SEP_TO_DEC_IBM" DECIMAL(12 , 3) DEFAULT NULL,
		"REMAININGYEARTOTALCY" DECIMAL(12 , 3) DEFAULT NULL,
		"TAXONOMY" CHAR(32) DEFAULT NULL,
		"DIVISION" CHAR(35) DEFAULT NULL,
		"ITDELIVERYDIRECTOR" CHAR(21) DEFAULT NULL,
		"PRNNAME" CHAR(69) DEFAULT NULL,
		"GCMREFERENCE" CHAR(7) DEFAULT NULL,
		"PROJECTPRIORITISATION" CHAR(21) DEFAULT NULL,
		"COMPLEXITYRATING" CHAR(10) DEFAULT NULL,
		"ITPM" CHAR(35) DEFAULT NULL,
		"CLARITY_PM_OWNER" CHAR(32) DEFAULT NULL,
		"DIRECTORATE" CHAR(37) DEFAULT NULL,
		"HOF" CHAR(49) DEFAULT NULL,
		"EMPLOYEETYPE" CHAR(29) DEFAULT NULL,
		"VAT_REDUCTION_APPLIED" CHAR(33) DEFAULT NULL,
		"EMPLOYEENUMBER" CHAR(8) DEFAULT NULL,
		"NEW_FILE_ID" CHAR(7) DEFAULT NULL,
		"AGENCY" CHAR(18) DEFAULT NULL,
		"JOBNAME" CHAR(62) DEFAULT NULL,
		"ALLOCATION" CHAR(16) DEFAULT NULL
	)
	DATA CAPTURE NONE;
	
drop TABLE "ROB_DEV"."INFLIGHT_PROJECTS";

CREATE TABLE "ROB_DEV"."INFLIGHT_PROJECTS" (
		"CIO" CHAR(46) DEFAULT NULL,
		"PRN" CHAR(11) DEFAULT NULL,
		"PROJECTNAME" CHAR(80) DEFAULT NULL,
		"PROJECTNUMBER" CHAR(11) DEFAULT NULL,
		"CURRENTPLATFORM" CHAR(66) DEFAULT NULL,
		"RESOURCETYPE" CHAR(19) DEFAULT NULL,
		"RESOURCENAME" CHAR(120) DEFAULT NULL,
		"SEP_IBM" DECIMAL(8 , 3) DEFAULT NULL,
		"OCT_IBM" DECIMAL(8 , 3) DEFAULT NULL,
		"NOV_IBM" DECIMAL(8 , 3) DEFAULT NULL,
		"DEC_IBM" DECIMAL(8 , 3) DEFAULT NULL,
		"SEP_TO_DEC_TOTAL_FORECAST" DECIMAL(12 , 3) DEFAULT NULL,
		"SEP_TO_DEC_IBM" DECIMAL(12 , 3) DEFAULT NULL,
		"REMAININGYEARTOTALCY" DECIMAL(12 , 3) DEFAULT NULL,
		"TAXONOMY" CHAR(32) DEFAULT NULL,
		"DIVISION" CHAR(35) DEFAULT NULL,
		"ITDELIVERYDIRECTOR" CHAR(21) DEFAULT NULL,
		"PRNNAME" CHAR(69) DEFAULT NULL,
		"GCMREFERENCE" CHAR(7) DEFAULT NULL,
		"PROJECTPRIORITISATION" CHAR(21) DEFAULT NULL,
		"COMPLEXITYRATING" CHAR(10) DEFAULT NULL,
		"ITPM" CHAR(35) DEFAULT NULL,
		"CLARITY_PM_OWNER" CHAR(32) DEFAULT NULL,
		"DIRECTORATE" CHAR(37) DEFAULT NULL,
		"HOF" CHAR(49) DEFAULT NULL,
		"EMPLOYEETYPE" CHAR(29) DEFAULT NULL,
		"VAT_REDUCTION_APPLIED" CHAR(33) DEFAULT NULL,
		"EMPLOYEENUMBER" CHAR(8) DEFAULT NULL,
		"NEW_FILE_ID" CHAR(7) DEFAULT NULL,
		"AGENCY" CHAR(18) DEFAULT NULL,
		"JOBNAME" CHAR(62) DEFAULT NULL,
		"ALLOCATION" CHAR(16) DEFAULT NULL
	)
	DATA CAPTURE NONE;

CREATE TABLE "ROB_DEV"."PLATFORM_TEAMS" (
		"OLD_NAME" CHAR(200) NOT NULL,
		"NEW_NAME" CHAR(200) NOT NULL,
		"PRIMARY_RESOURCE_MANAGER" CHAR(75) NOT NULL,
		"RESOURCE_TYPE" CHAR(200) NOT NULL
	)
	DATA CAPTURE NONE;

CREATE TABLE "ROB_DEV"."RESOURCE_REQUESTS" (
		"RESOURCE_REFERENCE" INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY ( START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 NO CYCLE CACHE 20),
		"RFS" CHAR(20) DEFAULT NULL,
		"PHASE" CHAR(50) DEFAULT NULL,
		"CURRENT_PLATFORM" CHAR(150) DEFAULT NULL,
		"RESOURCE_TYPE" CHAR(200) DEFAULT NULL,
		"DESCRIPTION" VARCHAR(2048) DEFAULT NULL,
		"START_DATE" DATE DEFAULT NULL,
		"END_DATE" DATE DEFAULT NULL,
		"HRS_PER_WEEK" INTEGER DEFAULT NULL,
		"RESOURCE_NAME" CHAR(150) DEFAULT NULL,
		"RR_CREATOR" CHAR(120) DEFAULT NULL,
		"RR_CREATED_TIMESTAMP" TIMESTAMP NOT NULL DEFAULT CURRENT TIMESTAMP,
		"PARENT_BWO" INTEGER DEFAULT NULL,
		"CLONED_FROM" INTEGER DEFAULT NULL,
		"DRAWN_DOWN_FOR_PRN" CHAR(10) DEFAULT NULL,
		"DRAWN_DOWN_FOR_PROJECT_CODE" CHAR(12) DEFAULT NULL
	)
	DATA CAPTURE NONE;

CREATE TABLE "ROB_DEV"."RESOURCE_REQUEST_HOURS" (
		"RESOURCE_REFERENCE" INTEGER NOT NULL,
		"DATE" DATE NOT NULL,
		"HOURS" DECIMAL(3 , 1) NOT NULL,
		"YEAR" INTEGER DEFAULT NULL,
		"WEEK_NUMBER" INTEGER DEFAULT NULL,
		"WEEK_ENDING_FRIDAY" DATE DEFAULT NULL,
		"CLAIM_CUTOFF" DATE DEFAULT NULL,
		"CLAIM_MONTH" INTEGER DEFAULT NULL,
		"CLAIM_YEAR" INTEGER DEFAULT NULL
	)
	DATA CAPTURE NONE;

CREATE TABLE "ROB_DEV"."RFS" (
		"RFS_ID" CHAR(20) NOT NULL,
		"PRN" CHAR(10) DEFAULT NULL,
		"PROJECT_TITLE" CHAR(120) DEFAULT NULL,
		"PROJECT_CODE" CHAR(12) DEFAULT NULL,
		"REQUESTOR_NAME" CHAR(120) DEFAULT NULL,
		"REQUESTOR_EMAIL" CHAR(200) DEFAULT NULL,
		"CIO" CHAR(120) DEFAULT NULL,
		"LINK_TO_PGMP" VARCHAR(500) DEFAULT NULL,
		"RFS_CREATOR" CHAR(120) DEFAULT NULL,
		"RFS_CREATED_TIMESTAMP" TIMESTAMP NOT NULL DEFAULT CURRENT TIMESTAMP
	)
	DATA CAPTURE NONE;

CREATE TABLE "ROB_DEV"."STATIC_CIO" (
		"CIO" CHAR(50) NOT NULL
	)
	DATA CAPTURE NONE;

CREATE TABLE "ROB_DEV"."STATIC_CURRENT_PLATFORM" (
		"CURRENT_PLATFORM" CHAR(150) NOT NULL
	)
	DATA CAPTURE NONE;

CREATE TABLE "ROB_DEV"."STATIC_RESOURCE_TYPE" (
		"RESOURCE_TYPE" CHAR(200) NOT NULL
	)
	DATA CAPTURE NONE;

ALTER TABLE "ROB_DEV"."PLATFORM_TEAMS" ADD CONSTRAINT "Q_REST_PLATF00001_OLD_NAME_00001" PRIMARY KEY
	("OLD_NAME");

ALTER TABLE "ROB_DEV"."RESOURCE_REQUESTS" ADD CONSTRAINT "Q_REST_RESOU00001_RESOU00001_00001" PRIMARY KEY
	("RESOURCE_REFERENCE");

ALTER TABLE "ROB_DEV"."RESOURCE_REQUEST_HOURS" ADD CONSTRAINT "Q_REST_RESOU00002_RESOU00001_00002" PRIMARY KEY
	("RESOURCE_REFERENCE",
	 "DATE");

ALTER TABLE "ROB_DEV"."RFS" ADD CONSTRAINT "Q_REST_RFS_RFS_ID_00001" PRIMARY KEY
	("RFS_ID");

ALTER TABLE "ROB_DEV"."STATIC_CIO" ADD CONSTRAINT "Q_REST_CIO_CIO_00001" PRIMARY KEY
	("CIO");

ALTER TABLE "ROB_DEV"."STATIC_CURRENT_PLATFORM" ADD CONSTRAINT "Q_REST_STATI00001_CURRE00001_00001" PRIMARY KEY
	("CURRENT_PLATFORM");

ALTER TABLE "ROB_DEV"."STATIC_RESOURCE_TYPE" ADD CONSTRAINT "Q_REST_STATI00002_RESOU00001_00001" PRIMARY KEY
	("RESOURCE_TYPE");

ALTER TABLE "ROB_DEV"."RESOURCE_REQUESTS" ADD CONSTRAINT "Q_REST_RESOU00001_RFS_00001" FOREIGN KEY
	("RFS")
	REFERENCES "ROB_DEV"."RFS"
	("RFS_ID")
	ON DELETE CASCADE;

